[[hsml-credential]]
=== Class: hsml:Credential

The class hsml:Credential realises the CREDENTIAL concept described in IEEE P2874 § 6.6.3:

“A CREDENTIAL is an ENTITY representing an attestation, claim, or permission that can be presented, verified, or required by Domains, Agents, or Activities in the Spatial Web.”

hsml:Credential provides the formal model for digital attestations that govern access, authority, or participation in Spatial Web processes. Credentials enable identity verification, authorization, compliance, and trust management across Domains and Activities.


[[hsml-credential-class]]
==== Class Definition

[cols="1,3"]
|===
| RDF Class | +hsml:Credential+
| Is Abstract | No
| Definition | An Entity representing a permission, attestation, or claim that can be verified or required in the Spatial Web.
| Subclass Of | vc:VerifiableCredential, hsml:Entity
| Usage Note | Credentials govern trust, access, and permissions for Agents, Activities, and Domains.
| Rationale | Provides a formal model for managing claims and trust artifacts essential to governance and secure interaction in the Spatial Web.
|===

[[hsml-credential-props]]
==== Properties


In addition to the core properties inherited from the W3C Verifiable Credential model (issuer, credentialSubject, proof, etc.), hsml:Credential defines the following key property:

[cols="1,1,2,1"]
|===
|Predicate |JSON-LD Name |Description |Cardinality

|hsml:hasClaimSchema
| hasClaimSchema
| Specifies the SHACL shape that the credentialSubject data must conform to.
| 0..1

|===
==== Property: hsml:hasClaimSchema

[cols="2,4"]
|===
|Property|hsml:hasClaimSchema
|IRI|https://www.spatialwebfoundation.org/ns/hsml#hasClaimSchema
|JSON name|hasClaimSchema
|Requirement Level|Optional
|Cardinality|0..1
|Domain|hsml:Credential
|Range|sh:NodeShape
|Definition|Specifies the SHACL Node Shape that defines the structure and constraints of the credentialSubject.
|Usage Note|Provides a formal, machine-readable schema for validating the claims within a credential.
|===

==== Conformance with W3C Verifiable Credential Data Model

An HSML-compliant implementation SHALL process any resource of type hsml:Credential as a specialization of the W3C Verifiable Credential (VC) Data Model v1.1 or higher. Implementations MUST support the core data model properties as defined in the W3C specification, including issuer, credentialSubject, and proof.

==== Credential Validation Process

To ensure trust and semantic integrity, an HSML-compliant system SHALL perform a two-stage validation process when verifying a presented hsml:Credential.

===== Stage 1: Cryptographic Verification

The system MUST first perform cryptographic verification of the credential's proof property according to the procedures outlined in the W3C VC specification. This step validates the authenticity and integrity of the credential, confirming that it was issued by the claimed issuer and has not been tampered with. If this verification fails, the credential MUST be rejected.

===== Stage 2: Semantic Claim Validation (SHACL)

If cryptographic verification is successful, the system MUST then perform semantic validation of the credentialSubject.

. The system SHALL check for the presence of the hsml:hasClaimSchema property on the hsml:Credential.
. If this property is present and its value is a valid URI for a sh:NodeShape, the system SHALL use a SHACL-compliant validation engine to validate the credentialSubject data against that shape.
. If the credentialSubject fails to conform to the specified SHACL shape, the credential MUST be considered semantically invalid for the intended purpose.

This two-stage process ensures that a credential is not only authentic but also that its claims are structured correctly and meet the formal requirements for a given context.

==== Requirements for Policy Engines

Policy engines operating within the Spatial Web SHALL leverage this two-stage validation process to enforce governance.

A policy rule MAY require the presence of a specific hsml:hasClaimSchema on a presented credential.

A policy engine MUST be capable of fetching and using the SHACL shape specified by hsml:hasClaimSchema to validate the claims before granting access or authorizing an Activity.

This enables the creation of robust, automated governance systems where policies can depend on both the authenticity of a credential and the formal structure of its claims. By specializing the W3C Verifiable Credential standard with this SHACL-based schema mechanism, HSML creates a powerful, interoperable, and machine-readable foundation for trust and governance in the Spatial Web.