[[metric-module]]
== Metric Space Submodule

The Metric Space Submodule provides metric-aware, format-agnostic hooks that work with any element or path encoding chosen via the core hspace: mappings. It adds distance/similarity semantics without imposing a particular geometry, graph model, or storage format, and integrates cleanly with Vector, Graph, Cellular, Concept, or custom domains.

Namespace. https://www.spatialwebfoundation.org/ns/hsml/hyperspace/metric#

Prefix. metric:

.Key Requirements

* Structural neutrality. Element and path types are still declared with hspace: (e.g., hspace:hasElementType, hspace:hasPathType). The metric module does not force vectors, geometries, or specific classes.

* Pluggable metrics. A Hyperspace MAY declare one or more metrics and optionally a default metric for operations.

* Literal or resource elements. Metrics can operate on resource elements (with an operand value carried by a property) or directly on literal elements (e.g., embeddings, strings, colors).

* Distance or similarity (“polarity”). A metric SHALL be explicitly tagged as distance or similarity; operations can uniformly convert via an optional monotone transform.

* Operations-ready. Metric declarations are consumable by hspace:Operation (e.g., kNN, range query, clustering, path cost evaluation) without additional coupling.

* Monoid path aggregation. Path costs are aggregated via a declared associative aggregator (e.g., sum, max, product) with an identity element; engines MAY override.

[[metric-normative-classes]]
=== Normative Classes

.Class Summary for Metric Module
[cols="1,3",options="header"]
|===
| Class | Description

| <<metric-metricspace,metric:MetricSpace>>
| Specialization of <<hspace-hyperspace,hspace:Hyperspace>> indicating that distance/similarity semantics are available via one or more <<metric-metric,metric:Metric>> declarations.

| <<metric-metric,metric:Metric>>
| Declarative description of a distance/similarity over the element domain of a Hyperspace, including operand extraction (<<metric-metric-property-operandProperty,metric:operandProperty>> / <<metric-metric-property-onType,metric:onType>>), polarity (<<metric-metric-property-polarity,metric:polarity>>), unit/scale (<<metric-metric-property-unit,metric:unit>> / <<metric-metric-property-scaleKind,metric:scaleKind>>), and axiom kind (<<metric-metric-property-kind,metric:kind>>)

| <<metric-measure,metric:Measure>> (Optional)
| First-class resource for pairwise measurements (distance or similarity) computed under a given metric:Metric—useful for caching, provenance, or exchange.

| <<metric-aggregator,metric:Aggregator>> (Vocabulary/Class)
| Declarative path aggregator with monoid semantics (associative op + identity). Includes ready-to-use instances (sum, max, min, product, lexicographic).

| <<metric-metrickind,metric:MetricKind>> (Vocabulary)
| Lightweight vocabulary tagging the axiom flavor: metric:Metric, metric:Pseudometric, metric:Quasimetric, metric:Semimetric, metric:Dissimilarity.

| <<metric-polarity,metric:Polarity>> (Vocabulary)
| Lightweight vocabulary for polarity: metric:Distance, metric:Similarity.

| <<metric-scalekind,metric:ScaleKind>> (Vocabulary)
| Optional measurement scale hint: metric:Ratio, metric:Interval, metric:Ordinal, metric:UnitInterval.
|===

include::hsml_metric_space.adoc[leveloffset=+1]

include::hsml_metric.adoc[leveloffset=+1]
include::hsml_measure.adoc[leveloffset=+1]
include::hsml_aggregator.adoc[leveloffset=+1]
include::hsml_polarity.adoc[leveloffset=+1]

