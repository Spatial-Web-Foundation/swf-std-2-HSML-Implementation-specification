[[metric-metricspace]]
=== Class: metric:MetricSpace

A `metric:MetricSpace` is a specialization of `hspace:Hyperspace` that **equips a domain with quantitative semantics**.  
While a Hyperspace already defines elements, paths, and their connectivity, a MetricSpace adds the notion of **distance or similarity functions**.  

This enables:
* **Quantitative reasoning** – e.g., nearest neighbor search, clustering, radius queries.  
* **Comparative analysis** – measuring similarity between embeddings, geometries, or categorical features.  
* **Path evaluation** – computing shortest paths, least-cost routes, or similarity-based traversals.  

By separating **structural relationships** (adjacency, connectivity) from **metric semantics**, HSML supports **portable and engine-independent computations** across graphs, cellular grids, and vector spaces.  In IEEE P2874 terms, this corresponds to the requirement that a Hyperspace may declare one or more **Metrics** to enable interoperable spatial and similarity-based operations.  


[[metric-metricspace-class]]
==== Class Definition

.Class Definition for metric:MetricSpace
[cols="1,3",options="header"]
|===
| RDF Class | metric:MetricSpace
| Is Abstract | No
| Definition | A hspace:Hyperspace that declares one or more metrics (distance or similarity) applicable to its elements.
| Subclass Of | hspace:Hyperspace
| Usage Note | Use when your domain supports metric-based operations. Element and path types remain bound via hspace: mappings.
| Rationale | Separates structure (core hyperspace) from quantitative semantics (metrics), enabling portable operations (kNN, radius search, path cost).
|===

.Properties Summary for metric:MetricSpace
[cols="2,2,4,2,1,2",options="header"]
|===
| Predicate (anchor) | JSON name | Description | Range | Card. | Req.

| <<metric-metricspace-property-hasMetric,metric:hasMetric>>
| hasMetric
| Declares a metric available in this Hyperspace.
| metric:Metric
| 0..*
| Optional

| <<metric-metricspace-property-defaultMetric,metric:defaultMetric>>
| defaultMetric
| Identifies the default metric to use when none is specified by an operation.
| metric:Metric
| 0..1
| Optional

| <<metric-metricspace-property-weightProperty,metric:weightProperty>> (Optional)
| weightProperty
| Names a property that holds precomputed edge/step weights (when used).
| rdf:Property (IRI)
| 0..1
| Optional
|===

[[metric-metricspace-properties]]
==== Properties (MetricSpace)

[[metric-metricspace-property-hasMetric]]
===== Property: hasMetric

.Property Definition: metric:hasMetric
[cols="2,4"]
|===
| Property | metric:hasMetric
| IRI | https://www.spatialwebfoundation.org/ns/hsml/hyperspace/metric#hasMetric

| Domain | hspace:Hyperspace (typically metric:MetricSpace)
| Range | metric:Metric
| Definition | Declares a metric available for this Hyperspace.
|===

[[metric-metricspace-property-defaultMetric]]
===== Property: defaultMetric

.Property Definition: metric:defaultMetric
[cols="2,4"]
|===
| Property | metric:defaultMetric
| IRI | https://www.spatialwebfoundation.org/ns/hsml/hyperspace/metric#defaultMetric

| Domain | hspace:Hyperspace
| Range | metric:Metric
| Definition | Identifies the default metric to use in absence of an explicit metric selection.
|===

[[metric-metricspace-property-weightProperty]]
===== Property: weightProperty (Optional)

.Property Definition: metric:weightProperty
[cols="2,4"]
|===
| Property | metric:weightProperty
| IRI | https://www.spatialwebfoundation.org/ns/hsml/hyperspace/metric#weightProperty

| Domain | hspace:Hyperspace
| Range | rdf:Property (IRI)
| Definition | Indicates a property on edges/steps that carries precomputed weights (e.g., travel time, cost) that operations MAY use instead of evaluating a metric.
| Usage Note | A metric:Metric MAY override at the metric level via metric:edgeWeightProperty.
|===