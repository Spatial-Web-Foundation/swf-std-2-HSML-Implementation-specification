== Conventions and Notation

=== URI and IRI Conventions

This specification uses IRIs for identifying HSML modules, classes, and properties.
All HSML terms are defined under a **single base namespace**:

----
https://www.spatialwebfoundation.org/ns/hsml
----

HSML is modular: each module (Activity, Agent, Domain, Hyperspace, Policy, etc.) defines its own sub-namespace under this base.
This hierarchy ensures that all HSML identifiers are globally unique, discoverable, and traceable to the Spatial Web Foundation.
Submodules of Hyperspace (e.g., Metric, Topological, Vector, Cellular) extend `hspace:` with their own namespaces.

[[hsml-normative-namespaces]]
==== HSML Normative Namespaces

All HSML modules share the common base namespace:

----
https://www.spatialwebfoundation.org/ns/hsml
----

Each module extends this base by declaring its own sub-namespace.
Hyperspace modules form a hierarchy: `hyperspace` is the root, and its specializations (`metric`, `topo`, `vector`, `cell`,...) extend from it.

.HSML Normative Namespaces
[cols="a,4a,a",options="header"]
|===
|Prefix |Namespace IRI |Module

|`core` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/core#]
|HSML Core

|`agent`| identifier:[https://www.spatialwebfoundation.org/ns/hsml/agent#]
|Agent Module

|`act` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/activity#]
|Activity Module

|`gov`| identifier:[https://www.spatialwebfoundation.org/ns/hsml/gov#]
|Governance Module

|`comm` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/comm#]
|Communication Module

|`hspace` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/hyperspace#]
|Hyperspace Core

|`metric` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/hyperspace/metric#]
|MetricSpace Submodule

|`topo` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/hyperspace/topo#]
|TopologicalSpace Submodule

|`vector` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/hyperspace/vector#]
|VectorSpace Submodule

|`cell` | identifier:[https://www.spatialwebfoundation.org/ns/hsml/hyperspace/cell#]
|CellularSpace Submodule

|===

[[external-referenced-namespaces]]
==== External Referenced Namespaces

.External Referenced Namespaces
[cols="a,4a,a",options="header"]
|===
|Prefix |Namespace IRI |Source

|`dct` |  identifier:[http://purl.org/dc/terms/] |<<dcterms>>
|`foaf` | identifier:[http://xmlns.com/foaf/0.1/] |<<xmlns_foaf>>
|`gsp` |  identifier:[http://www.opengis.net/ont/geosparql#] |<<ogc_geosparql>>
|`org` |  identifier:[http://www.w3c.org/ns/org#] |<<w3c_vocab-org>>
|`prov` | identifier:[http://www.w3.org/ns/prov#] |<<w3c_prov-dm>>
|`rdf` |  identifier:[http://www.w3.org/1999/02/22-rdf-syntax-ns#] |<<w3c_rdf-syntax-grammar>>
|`rdfs` | identifier:[http://www.w3.org/2000/01/rdf-schema#] |<<w3c_rdf-schema>>
|`schema` | identifier:[http://schema.org/] |<<schema-org>>
|`sh` | identifier:[http://www.w3.org/ns/shacl#] |<<w3c_shacl>>
|`skos` | identifier:[http://www.w3.org/2004/02/skos/core#] |<<w3c_skos>>
|`owl` |  identifier:[http://www.w3.org/2002/07/owl#] |<<w3c_owl>>
|`xsd` |  identifier:[http://www.w3.org/2001/XMLSchema#] |<<w3c_xmlschema>>
|`vc` | identifier:[https://www.w3.org/2018/credentials#] |<<w3c_vc-data-model-20>>

|===


=== RDF/Turtle Syntax Conventions

RDF examples in this specification use Turtle syntax <<w3c_rdf12-turtle>>.

The following conventions apply:

* All examples assume the namespace prefixes defined in <<hsml-normative-namespaces>> and <<external-referenced-namespaces>>.

* If a prefix is used in an example but not explicitly declared, it SHALL be interpreted as belonging to one of those normative tables.

* Example fragments are illustrative and **non-normative*
unless explicitly marked as normative.

* Literals use standard `xsd:` datatypes (e.g., `xsd:string`, `xsd:integer`, `xsd:dateTime`).

* Persistent identifiers (e.g., SWIDs) are preferred over blank nodes.

* Compact IRIs (CURIEs) are used when a prefix is declared.

.Example Turtle syntax
[example]
====
[source,turtle]
----
did:swd:smarthome123:activity:1 a activity:Activity ;
    core:swid "did:swd:smarthome123:activity:1" ;
    act:activitySchema :TurnOnLight ;
    act:hasStatus "running"^^xsd:string .
----
====


=== JSON-LD Syntax Conventions

HSML entities, activities, and governance artifacts shall be serializable into JSON-LD <<w3c_json-ld11>>.

For the sake of simplicity and consistency, HSML defines a **single canonical JSON-LD context** that covers all modules:

----
https://www.spatialwebfoundation.org/ns/hsml/context.jsonld
----

This context performs the following functions:

* Provides prefix mappings for all HSML modules (`core`, `agent`, `activity`, `gov`, `comm`, `hspace`, `metric`, `topo`, `vector`, `cell`).

* Maps each HSML **class IRI** and **property IRI** to a simplified JSON key, corresponding to the **“JSON name”** column defined in the normative tables of this specification.

* Enables JSON developers to work with compact, human-readable field names while ensuring full semantic traceability to IRIs.

* Profiles and extensions MAY extend the canonical context with additional mappings.


.Example mapping excerpt (informative)
[example]
====
[source,json]
----
{
  "@context": {
    "core": "https://www.spatialwebfoundation.org/ns/hsml/core#",
    "act": "https://www.spatialwebfoundation.org/ns/hsml/activity#",
    "agent": "https://www.spatialwebfoundation.org/ns/hsml/agent#",
    "schema": "http://schema.org/",
    "dct": "http://purl.org/dc/terms/",
    "type": "@type",
    "swid": "core:swid",
    "name": "schema:name",
    "description": "schema:description"
    "Activity": "act:Activity",
    "Ongoing": "act:Ongoing",
    "activitySchema": "act:activitySchema",
    "hasStatus": "act:hasStatus"
    ....
   }
}
----
====

.Example instance
[example]
====
[source,json]
----
{
  "@context": "https://www.spatialwebfoundation.org/ns/hsml/context.jsonld",
  "id": "did:swid:smarthome123:activity:1",
  "@id": "did:swid:smarthome123:activity:1",
  "@type": "Activity",
  "swid": "did:swd:smarthome123:activity:1",
  "activitySchema": "did:swd:smarthome123:schemas:TurnOnLight",
  "hasStatus": "Ongoing",
  "name": "Turn on light",
  "description": "Switches on the living room light"
}
----
====


=== SHACL Shape Syntax and Annotations

Validation in HSML is expressed using SHACL shapes <<w3c_shacl>>.
The following conventions apply:

* Shapes are defined in Turtle syntax with the `sh:` namespace.

* If prefixes appear in a SHACL example without being explicitly declared, they SHALL be interpreted using the mappings in <<hsml-normative-namespacesNamespaces>> or <<external-referenced-namespaces>>.

* NodeShapes target specific HSML classes (e.g., `activity:Activity`).

* Property shapes specify expected predicates, datatypes, or cardinality constraints.

* HSML-specific annotations (e.g., `hsml:parameter`, `hsml:precondition`) may extend SHACL for Activity schemas.

* Shapes may serve as **Activity payload templates**, validating inputs and outputs.


.Example SHACL shape
[example]
====
[source,turtle]
----
:TurnOnLightShape a sh:NodeShape ;
    sh:targetClass act:Activity ;
    sh:property [
        sh:path act:hasStatus ;
        sh:datatype xsd:string ;
        sh:in (act:Planned, act:Ongoing, act:Completed`, act:Failed) ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
] .
----
====